/// EJERCICIO DE EVALUACIÃ“N (27-10-2025)

import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        String palabra = "EDIFICIO"; // palabra secreta
        System.out.println("Juego del ahorcado\nIntenta adivinar la palabra\nTienes 5 intentos\n");

        Scanner sc;
        int hp = 5;

        // init scanner
        sc = new Scanner(System.in);

        String progreso = "";
        for (int i = 0; i < palabra.length(); i++) {
            progreso+="_";
        }

        int aciertos = 0;

        while (aciertos < palabra.length() && hp > 0) {
            //show state
            System.out.println(progreso);
            System.out.printf("Numero de aciertos %d\n", aciertos);
            System.out.printf("Intentos restantes: %d\n", hp);
            System.out.printf("Inserte un caracter: \n");

            // get input
            char input = sc.next().toUpperCase().charAt(0);

            // check
            boolean exist = false;
            for (int i = 0; i < palabra.length(); i++) {
                char letra = palabra.charAt(i);

                // ya esta dentro del array de progreso!
                if (input == progreso.charAt(i)) {
                    continue;
                }

                if(input == palabra.charAt(i)) {
                    if (i <= 0) {
                        progreso = letra + progreso.substring(i+1);
                    }
                    else if (i >= palabra.length()) {
                        progreso = progreso.substring(0,i) + letra;
                    }
                    else {
                        progreso = progreso.substring(0,i) + letra + progreso.substring(i+1);
                    }
                    exist = true;
                    aciertos++;
                }
            }

            if (!exist) hp--;
        }

        System.out.println(progreso);
        System.out.printf("Numero de aciertos %d\n", aciertos);

        if (hp <= 0) {
            System.out.println("Has perdido!");
        } else {
            System.out.println("Has ganado!");
        }
    }
}
